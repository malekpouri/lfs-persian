**پیشگفتار**

سفر من برای یادگیری و درک بهتر لینوکس در سال ۱۹۹۸ آغاز شد. من تازه اولین توزیع لینوکس خود را نصب کرده بودم و سریعاً مجذوب کل مفهوم و فلسفه پشت لینوکس شدم.

همیشه راه‌های زیادی برای انجام یک کار وجود دارد. همین را می‌توان درباره توزیع‌های لینوکس گفت. در طول سال‌ها، تعداد زیادی از آن‌ها وجود داشته‌اند. برخی هنوز وجود دارند، برخی به چیز دیگری تبدیل شده‌اند، و بعضی دیگر تنها در خاطرات ما باقی مانده‌اند. همه آن‌ها کارها را به روش‌های متفاوتی انجام می‌دهند تا نیازهای مخاطبان هدف خود را برآورده کنند. از آنجا که راه‌های بسیار متفاوتی برای رسیدن به یک هدف نهایی وجود دارد، من شروع به درک این موضوع کردم که دیگر نباید خودم را به یک پیاده‌سازی خاص محدود کنم.


قبل از کشف لینوکس، ما صرفاً مشکلات سیستم‌عامل‌های دیگر را تحمل می‌کردیم زیرا انتخاب دیگری نداشتیم. همان بود که بود، چه دوست داشتید و چه نداشتید. با لینوکس، مفهوم انتخاب شروع به ظهور کرد. اگر از چیزی خوشتان نمی‌آمد، آزاد بودید، و حتی تشویق می‌شدید که آن را تغییر دهید.

من چندین توزیع را امتحان کردم و نمی‌توانستم روی هیچکدام تصمیم بگیرم. آن‌ها در جای خود سیستم‌های عالی بودند. دیگر مسئله درست و غلط نبود. به موضوع سلیقه شخصی تبدیل شده بود. با تمام آن انتخاب‌های موجود، مشخص شد که سیستم واحدی وجود نخواهد داشت که برای من کاملاً مناسب باشد. بنابراین تصمیم گرفتم سیستم لینوکس خودم را ایجاد کنم که کاملاً با ترجیحات شخصی من مطابقت داشته باشد.

برای اینکه واقعاً آن را سیستم خودم کنم، تصمیم گرفتم همه چیز را از کد منبع کامپایل کنم به جای استفاده از بسته‌های باینری از پیش کامپایل شده. این سیستم لینوکس "کامل" نقاط قوت سیستم‌های مختلف را بدون ضعف‌های ادراک شده آن‌ها می‌داشت. در ابتدا، این ایده تا حدودی هراس‌انگیز بود. من متعهد به این ایده ماندم که چنین سیستمی قابل ساخت است.

پس از رفع مسائلی مانند وابستگی‌های دایره‌ای و خطاهای زمان کامپایل، سرانجام یک سیستم لینوکس سفارشی ساختم. این سیستم کاملاً عملیاتی و قابل استفاده بود، درست مانند هر سیستم لینوکس دیگری که در آن زمان وجود داشت. اما این ساخته خود من بود. رضایت بخش بود که چنین سیستمی را خودم سر هم کرده بودم. تنها چیزی که بهتر می‌بود این بود که هر قطعه نرم‌افزار را خودم ایجاد می‌کردم. این نزدیک‌ترین چیز به آن بود.

وقتی اهداف و تجربیاتم را با سایر اعضای جامعه لینوکس به اشتراک گذاشتم، مشخص شد که علاقه پایداری به این ایده‌ها وجود دارد. به سرعت آشکار شد که چنین سیستم‌های لینوکس سفارشی نه تنها برای برآورده کردن نیازهای خاص کاربر مفید هستند، بلکه فرصت یادگیری ایده‌آلی برای برنامه‌نویسان و مدیران سیستم برای تقویت مهارت‌های لینوکس (موجود) خود نیز هستند. از این علاقه گسترده، پروژه Linux From Scratch متولد شد.

این کتاب Linux From Scratch هسته مرکزی آن پروژه است. این کتاب پیش‌زمینه و دستورالعمل‌های لازم را برای طراحی و ساخت سیستم خودتان فراهم می‌کند. در حالی که این کتاب الگویی را ارائه می‌دهد که منجر به یک سیستم کارکردی صحیح می‌شود، شما آزاد هستید دستورالعمل‌ها را برای تناسب با خودتان تغییر دهید، که تا حدی بخش مهمی از این پروژه است. شما همچنان کنترل را در دست دارید؛ ما فقط دست یاری دراز می‌کنیم تا شما را در شروع سفر خودتان کمک کنیم.

صمیمانه امیدوارم که شما از کار بر روی سیستم Linux From Scratch خودتان لذت ببرید و از مزایای متعدد داشتن سیستمی که واقعاً متعلق به خودتان است، بهره‌مند شوید.
```
- Gerard Beekmans
- gerard@linuxfromscratch.org
```
**مخاطبان**

دلایل بسیاری وجود دارد که چرا ممکن است بخواهید این کتاب را بخوانید. یکی از سوالاتی که بسیاری از افراد مطرح می‌کنند این است: "چرا باید زحمت ساخت دستی یک سیستم لینوکس از صفر را متحمل شویم، وقتی می‌توانیم به سادگی یک سیستم موجود را دانلود و نصب کنیم؟"

یک دلیل مهم برای وجود این پروژه، کمک به شما برای یادگیری نحوه کار یک سیستم لینوکس از درون است. ساخت یک سیستم LFS کمک می‌کند نشان دهد که چه چیزی لینوکس را به حرکت در می‌آورد، و چگونه چیزها با هم کار می‌کنند و به هم وابسته هستند. یکی از بهترین چیزهایی که این تجربه یادگیری می‌تواند ارائه دهد، توانایی سفارشی‌سازی یک سیستم لینوکس برای تناسب با نیازهای منحصر به فرد خودتان است.

مزیت کلیدی دیگر LFS این است که به شما کنترل سیستم را بدون اتکا به پیاده‌سازی لینوکس شخص دیگری می‌دهد. با LFS، شما در صندلی راننده هستید. شما هر جنبه‌ای از سیستم خود را دیکته می‌کنید.

 لینوکس LFS به شما امکان می‌دهد سیستم‌های لینوکس بسیار فشرده ایجاد کنید. با توزیع‌های دیگر، شما اغلب مجبور به نصب بسیاری از برنامه‌هایی هستید که نه از آن‌ها استفاده می‌کنید و نه آن‌ها را درک می‌کنید. این برنامه‌ها منابع را هدر می‌دهند. شاید استدلال کنید که با هارددیسک‌ها و پردازنده‌های امروزی، منابع هدر رفته دیگر یک ملاحظه نیستند. با این حال، گاهی اوقات شما همچنان توسط اندازه سیستم محدود می‌شوید، اگر نه چیز دیگری. درباره سی‌دی‌های بوت‌پذیر، فلش‌های USB و سیستم‌های جاسازی شده فکر کنید. این‌ها حوزه‌هایی هستند که LFS می‌تواند مفید باشد.

مزیت دیگر یک سیستم لینوکس سفارشی ساز، امنیت است. با کامپایل کل سیستم از کد منبع، شما قادر خواهید بود همه چیز را بررسی کنید و تمام وصله‌های امنیتی که می‌خواهید را اعمال کنید. لازم نیست منتظر بمانید تا شخص دیگری بسته‌های باینری را کامپایل کند که یک حفره امنیتی را رفع می‌کند. مگر اینکه خودتان وصله را بررسی کنید و اجرا کنید، هیچ تضمینی ندارید که بسته باینری جدید به درستی ساخته شده و مشکل را به طور کافی رفع می‌کند.

هدف Linux From Scratch ساخت یک سیستم پایه کامل و قابل استفاده است. اگر نمی‌خواهید سیستم لینوکس خود را از صفر بسازید، ممکن است با این حال از اطلاعات موجود در این کتاب بهره‌مند شوید.

دلایل خوب بسیار زیادی برای ساخت سیستم LFS خودتان وجود دارد که نمی‌توان همه آن‌ها را اینجا فهرست کرد. در نهایت، آموزش به مراتب مهم‌ترین دلیل است. همانطور که به تجربه LFS خود ادامه می‌دهید، قدرتی را که اطلاعات و دانش می‌تواند به همراه داشته باشد، کشف خواهید کرد.

**معماری‌های هدف LFS**

معماری‌های اصلی هدف LFS، پردازنده‌های AMD/Intel x86 (32 بیتی) و x86_64 (64 بیتی) هستند. از طرف دیگر، دستورالعمل‌های این کتاب با برخی تغییرات، با پردازنده‌های Power PC و ARM نیز کار می‌کنند.

برای ساخت سیستمی که از یکی از این پردازنده‌های جایگزین استفاده می‌کند، پیش‌نیاز اصلی، علاوه بر موارد ذکر شده در صفحه بعد، یک سیستم لینوکس موجود مانند نصب قبلی LFS، Ubuntu، Red Hat/Fedora، SuSE، یا توزیع دیگری است که آن معماری را هدف قرار می‌دهد. (توجه داشته باشید که یک توزیع 32 بیتی می‌تواند روی یک کامپیوتر 64 بیتی AMD/Intel نصب و استفاده شود.)

مزیت ساخت روی یک سیستم 64 بیتی، در مقایسه با یک سیستم 32 بیتی، حداقل است. به عنوان مثال، در یک ساخت آزمایشی LFS-9.1 روی یک سیستم مبتنی بر پردازنده Core i7-4790، با استفاده از 4 هسته، آمار زیر اندازه‌گیری شد:

معماری | زمان ساخت | اندازه ساخت
--------|------------|-------------
32 بیتی | 239.9 دقیقه | 3.6 گیگابایت
64 بیتی | 233.2 دقیقه | 4.4 گیگابایت

همانطور که می‌بینید، در همان سخت‌افزار، ساخت 64 بیتی تنها 3٪ سریعتر (و 22٪ بزرگتر) از ساخت 32 بیتی است. اگر قصد دارید از LFS به عنوان یک سرور LAMP یا یک فایروال استفاده کنید، یک پردازنده 32 بیتی ممکن است کافی باشد. از طرف دیگر، چندین بسته در BLFS اکنون به بیش از 4 گیگابایت رم برای ساخت و/یا اجرا نیاز دارند؛ اگر قصد دارید از LFS به عنوان یک دسکتاپ استفاده کنید، نویسندگان LFS توصیه می‌کنند یک سیستم 64 بیتی بسازید.

ساخت 64 بیتی پیش‌فرض که از LFS حاصل می‌شود، یک سیستم 64 بیتی "خالص" است. یعنی، فقط از اجراییهای 64 بیتی پشتیبانی می‌کند. ساخت یک سیستم "چند کتابخانه‌ای" نیاز به کامپایل بسیاری از برنامه‌ها دو بار دارد، یک بار برای سیستم 32 بیتی و یک بار برای سیستم 64 بیتی. این به طور مستقیم در LFS پشتیبانی نمی‌شود زیرا با هدف آموزشی ارائه حداقل دستورالعمل‌های لازم برای یک سیستم پایه لینوکس تداخل خواهد داشت. برخی از ویراستاران LFS/BLFS یک نسخه چند کتابخانه‌ای از LFS را نگهداری می‌کنند که در https://www.linuxfromscratch.org/~thomas/multilib/index.html قابل دسترسی است. اما این یک موضوع پیشرفته است.

**پیش‌نیازها**

ساخت یک سیستم LFS کار ساده‌ای نیست. این کار نیاز به سطح خاصی از دانش موجود در مدیریت سیستم یونیکس دارد تا بتوانید مشکلات را حل کنید و دستورات فهرست شده را به درستی اجرا کنید. به طور خاص، به عنوان حداقل مطلق، شما باید از قبل بدانید چگونه از خط فرمان (شل) برای کپی یا انتقال فایل‌ها و دایرکتوری‌ها، فهرست کردن محتویات دایرکتوری و فایل، و تغییر دایرکتوری جاری استفاده کنید. همچنین انتظار می‌رود که بدانید چگونه از نرم‌افزار لینوکس استفاده کنید و آن را نصب کنید.

از آنجا که کتاب LFS حداقل این سطح از مهارت را فرض می‌کند، انجمن‌های پشتیبانی مختلف LFS احتمالاً کمک چندانی در این زمینه‌ها به شما نخواهند کرد. متوجه خواهید شد که سؤالات شما در مورد چنین دانش پایه‌ای احتمالاً بی‌پاسخ خواهند ماند (یا صرفاً به فهرست پیش‌خوانی ضروری LFS ارجاع داده خواهید شد).

قبل از ساخت یک سیستم LFS، ما شما را تشویق می‌کنیم این مقالات را بخوانید:

• راهنمای ساخت نرم‌افزار https://tldp.org/HOWTO/Software-Building-HOWTO.html
این یک راهنمای جامع برای ساخت و نصب بسته‌های نرم‌افزاری "عمومی" یونیکس تحت لینوکس است. اگرچه مدتی پیش نوشته شده، اما هنوز خلاصه خوبی از تکنیک‌های اساسی مورد استفاده برای ساخت و نصب نرم‌افزار ارائه می‌دهد.

• راهنمای مبتدیان برای نصب از منبع https://moi.vonos.net/linux/beginners-installing-from-source/
این راهنما خلاصه خوبی از مهارت‌ها و تکنیک‌های اساسی مورد نیاز برای ساخت نرم‌افزار از کد منبع ارائه می‌دهد.

**لینوکس LFS و استانداردها**

ساختار LFS تا حد امکان از استانداردهای لینوکس پیروی می‌کند. استانداردهای اصلی عبارتند از:

• POSIX.1-2008
• استاندارد سلسله مراتب فایل سیستم (FHS) نسخه 3.0
• پایه استاندارد لینوکس (LSB) نسخه 5.0 (2015)

لینوکس LSB دارای چهار مشخصات جداگانه است: هسته، دسکتاپ، زبان‌های زمان اجرا و تصویرسازی. برخی از بخش‌های مشخصات هسته و دسکتاپ مختص معماری هستند. همچنین دو مشخصات آزمایشی وجود دارد: Gtk3 و گرافیک.

لینوکس LFS تلاش می‌کند تا با مشخصات LSB برای معماری‌های IA32 (x86 32 بیتی) یا AMD64 (x86_64) که در بخش قبلی بحث شد، مطابقت داشته باشد.

***نکته***
‍‍‍‍‍‍‍‍
```text
بسیاری از افراد با این الزامات موافق نیستند. هدف اصلی LSB این است که اطمینان حاصل شود نرم‌افزار اختصاصی می‌تواند روی یک سیستم سازگار نصب و اجرا شود. از آنجا که LFS مبتنی بر منبع است، کاربر کنترل کاملی بر بسته‌های مورد نظر دارد؛ ممکن است تصمیم بگیرید برخی از بسته‌هایی را که توسط LSB مشخص شده‌اند نصب نکنید.
```

اگرچه ایجاد یک سیستم کامل که بتواند آزمون‌های گواهینامه LSB را "از صفر" پشت سر بگذارد امکان‌پذیر است، این کار بدون بسته‌های اضافی متعددی که فراتر از محدوده کتاب LFS هستند، قابل انجام نیست. دستورالعمل‌های نصب برای این بسته‌های اضافی را می‌توان در BLFS یافت.

توضیحات:
1. "LSB" مخفف "Linux Standard Base" است که یک استاندارد برای سیستم‌های لینوکس است.
2. "LFS" مخفف "Linux From Scratch" است که به کتاب اصلی پروژه اشاره دارد.
3. "BLFS" مخفف "Beyond Linux From Scratch" است که یک پروژه مکمل برای LFS است و شامل بسته‌های اضافی می‌شود.

# بسته‌های تأمین شده توسط LFS برای برآورده کردن نیازمندی‌های LSB

## LSB Core:
Bash, Bc, Binutils, Coreutils, Diffutils, File, Findutils, Gawk,
Grep, Gzip, M4, Man-DB, Ncurses, Procps, Psmisc, Sed,
Shadow, Tar, Util-linux, Zlib

## LSB Desktop:
هیچ

## LSB Runtime Languages:
Perl, Python

## LSB Imaging:
هیچ

## LSB Gtk3 و LSB Graphics (استفاده آزمایشی):
هیچ

# بسته‌های تأمین شده توسط BLFS برای برآورده کردن نیازمندی‌های LSB

## LSB Core:
At, Batch (بخشی از At), Cpio, Ed, Fcrontab, LSB-Tools, NSPR,
NSS, PAM, Pax, Sendmail (یا Postfix یا Exim), time

## LSB Desktop:
Alsa, ATK, Cairo, Desktop-file-utils, Freetype, Fontconfig,
Gdk-pixbuf, Glib2, GTK+2, Icon-naming-utils, Libjpeg-turbo,
Libpng, Libtiff, Libxml2, MesaLib, Pango, Xdg-utils, Xorg

## LSB Runtime Languages:
Libxml2, Libxslt

## LSB Imaging:
CUPS, Cups-filters, Ghostscript, SANE

## LSB Gtk3 و LSB Graphics (استفاده آزمایشی):
GTK+3

# بسته‌های تأمین نشده توسط LFS یا BLFS مورد نیاز برای برآورده کردن نیازمندی‌های LSB

## LSB Core:
هیچ

## LSB Desktop:
Qt4 (اما Qt5 تأمین شده است)

## LSB Runtime Languages:
هیچ

## LSB Imaging:
هیچ

## LSB Gtk3 و LSB Graphics (استفاده آزمایشی):
هیچ



# منطق انتخاب بسته‌ها در کتاب

هدف LFS ساخت یک سیستم پایه کامل و قابل استفاده است - شامل تمام بسته‌های مورد نیاز برای تکثیر خود - و فراهم کردن یک پایه نسبتاً حداقلی برای سفارشی‌سازی یک سیستم کامل‌تر بر اساس انتخاب‌های کاربر. این بدان معنا نیست که LFS کوچک‌ترین سیستم ممکن است. چندین بسته مهم گنجانده شده‌اند که به طور دقیق، الزامی نیستند. فهرست زیر دلایل گنجاندن هر بسته در کتاب را مستند می‌کند.

## Acl
این بسته شامل ابزارهایی برای مدیریت لیست‌های کنترل دسترسی است، که برای تعریف حقوق دسترسی دقیق و اختیاری برای فایل‌ها و دایرکتوری‌ها استفاده می‌شود.

## Attr
این بسته شامل برنامه‌هایی برای مدیریت ویژگی‌های گسترش یافته روی اشیاء سیستم فایل است.

## Autoconf
این بسته برنامه‌هایی برای تولید اسکریپت‌های شل که می‌توانند به طور خودکار کد منبع را از الگوی توسعه‌دهنده پیکربندی کنند، فراهم می‌کند. اغلب برای بازسازی یک بسته پس از به‌روزرسانی روند ساخت مورد نیاز است.

## Automake
این بسته شامل برنامه‌هایی برای تولید فایل‌های Make از یک الگو است. اغلب برای بازسازی یک بسته پس از به‌روزرسانی روند ساخت مورد نیاز است.

## Bash
این بسته یک نیازمندی اصلی LSB را برای ارائه یک رابط Bourne Shell به سیستم برآورده می‌کند. به دلیل استفاده رایج و قابلیت‌های گسترده آن، بر سایر بسته‌های شل ترجیح داده شده است.

## Bc
این بسته یک زبان پردازش عددی با دقت دلخواه فراهم می‌کند. یک نیازمندی برای ساخت هسته لینوکس را برآورده می‌کند.

## Binutils
این بسته یک لینکر، یک اسمبلر و سایر ابزارها برای کار با فایل‌های شیء را فراهم می‌کند. برنامه‌های موجود در این بسته برای کامپایل اکثر بسته‌ها در یک سیستم LFS مورد نیاز هستند.

## Bison
این بسته شامل نسخه GNU از yacc (Yet Another Compiler Compiler) است که برای ساخت چندین برنامه LFS مورد نیاز است.

## Bzip2
این بسته شامل برنامه‌هایی برای فشرده‌سازی و از حالت فشرده خارج کردن فایل‌ها است. برای از حالت فشرده خارج کردن بسیاری از بسته‌های LFS مورد نیاز است.

## Check
این بسته یک چارچوب آزمون برای سایر برنامه‌ها فراهم می‌کند.

## Coreutils
این بسته شامل تعدادی برنامه ضروری برای مشاهده و دستکاری فایل‌ها و دایرکتوری‌ها است. این برنامه‌ها برای مدیریت فایل از طریق خط فرمان مورد نیاز هستند و برای روند نصب هر بسته در LFS ضروری هستند.

## DejaGNU
این بسته یک چارچوب برای آزمایش سایر برنامه‌ها فراهم می‌کند.

## Diffutils
این بسته شامل برنامه‌هایی است که تفاوت‌ها بین فایل‌ها یا دایرکتوری‌ها را نشان می‌دهند. این برنامه‌ها می‌توانند برای ایجاد پچ استفاده شوند و همچنین در روند ساخت بسیاری از بسته‌ها به کار می‌روند.

## E2fsprogs
این بسته ابزارهایی برای کار با سیستم‌های فایل ext2، ext3 و ext4 فراهم می‌کند. اینها رایج‌ترین و کاملاً آزمایش شده‌ترین سیستم‌های فایلی هستند که لینوکس پشتیبانی می‌کند.

## Expat
این بسته یک کتابخانه نسبتاً کوچک برای تجزیه XML ارائه می‌دهد. برای ماژول XML::Parser پرل مورد نیاز است.

## Expect
این بسته شامل برنامه‌ای برای انجام گفتگوهای اسکریپتی با سایر برنامه‌های تعاملی است. معمولاً برای آزمایش سایر بسته‌ها استفاده می‌شود.

## File
این بسته شامل یک ابزار برای تعیین نوع فایل یا فایل‌های داده شده است. چند بسته در اسکریپت‌های ساخت خود به آن نیاز دارند.

## Findutils
این بسته برنامه‌هایی برای یافتن فایل‌ها در یک سیستم فایل ارائه می‌دهد. در اسکریپت‌های ساخت بسیاری از بسته‌ها استفاده می‌شود.

## Flex
این بسته شامل یک ابزار برای تولید برنامه‌هایی است که الگوهای متنی را تشخیص می‌دهند. این نسخه GNU از برنامه lex (تحلیلگر لغوی) است. برای ساخت چندین بسته LFS مورد نیاز است.

## Gawk
این بسته برنامه‌هایی برای دستکاری فایل‌های متنی ارائه می‌دهد. این نسخه GNU از awk (Aho-Weinberg-Kernighan) است. در اسکریپت‌های ساخت بسیاری از بسته‌های دیگر استفاده می‌شود.

## GCC
این مجموعه کامپایلر GNU است. شامل کامپایلرهای C و C++ و همچنین چندین کامپایلر دیگر است که توسط LFS ساخته نشده‌اند.

## GDBM
این بسته شامل کتابخانه مدیر پایگاه داده GNU است. توسط یک بسته دیگر LFS، Man-DB استفاده می‌شود.

## Gettext
این بسته ابزارها و کتابخانه‌هایی برای بین‌المللی‌سازی و محلی‌سازی بسیاری از بسته‌ها فراهم می‌کند.

## Glibc
این بسته شامل کتابخانه اصلی C است. برنامه‌های لینوکس بدون آن اجرا نخواهند شد.

## GMP
این بسته کتابخانه‌های ریاضی ارائه می‌دهد که توابع مفیدی برای محاسبات دقیق دلخواه فراهم می‌کنند. برای ساخت GCC مورد نیاز است.

## Gperf
این بسته برنامه‌ای تولید می‌کند که یک تابع هش کامل از مجموعه‌ای از کلیدها ایجاد می‌کند. توسط Udev مورد نیاز است.

## Grep
این بسته شامل برنامه‌هایی برای جستجو در فایل‌ها است. این برنامه‌ها توسط اکثر اسکریپت‌های ساخت بسته‌ها استفاده می‌شوند.

## Groff
این بسته برنامه‌هایی برای پردازش و فرمت‌دهی متن ارائه می‌دهد. یکی از عملکردهای مهم این برنامه‌ها فرمت‌دهی صفحات man است.

## GRUB
این بوت لودر یکپارچه بزرگ است. انعطاف‌پذیرترین بوت لودر موجود است.

## Gzip
این بسته شامل برنامه‌هایی برای فشرده‌سازی و از حالت فشرده خارج کردن فایل‌ها است. برای از حالت فشرده خارج کردن بسیاری از بسته‌ها در LFS مورد نیاز است.

## Iana-etc
این بسته داده‌هایی برای سرویس‌ها و پروتکل‌های شبکه ارائه می‌دهد. برای فعال‌سازی قابلیت‌های شبکه مناسب مورد نیاز است.

## Inetutils
این بسته برنامه‌هایی برای مدیریت شبکه پایه ارائه می‌دهد.

## Intltool
این بسته ابزارهایی برای استخراج رشته‌های قابل ترجمه از فایل‌های منبع ارائه می‌دهد.

## IProute2
این بسته شامل برنامه‌هایی برای شبکه‌سازی پایه و پیشرفته IPv4 و IPv6 است. به دلیل قابلیت‌های IPv6 آن، بر بسته ابزارهای شبکه رایج دیگر (net-tools) ترجیح داده شده است.

## Kbd
این بسته فایل‌های جدول کلید، ابزارهای صفحه کلید برای صفحه کلیدهای غیر آمریکایی و تعدادی فونت کنسول تولید می‌کند.

## Kmod
این بسته برنامه‌های مورد نیاز برای مدیریت ماژول‌های هسته لینوکس را فراهم می‌کند.

## Less
این بسته شامل یک نمایشگر فایل متنی بسیار خوب است که امکان پیمایش به بالا یا پایین هنگام مشاهده یک فایل را فراهم می‌کند. بسیاری از بسته‌ها از آن برای صفحه‌بندی خروجی استفاده می‌کنند.

## Libcap
این بسته رابط‌های فضای کاربر برای قابلیت‌های POSIX 1003.1e موجود در هسته‌های لینوکس را پیاده‌سازی می‌کند.

## Libelf
پروژه elfutils کتابخانه‌ها و ابزارهایی برای فایل‌های ELF و داده‌های DWARF ارائه می‌دهد. اکثر ابزارهای این بسته در بسته‌های دیگر موجود هستند، اما کتابخانه برای ساخت هسته لینوکس با استفاده از پیکربندی پیش‌فرض (و کارآمدترین) مورد نیاز است.

## Libffi
این بسته یک رابط برنامه‌نویسی سطح بالا و قابل حمل برای قراردادهای فراخوانی مختلف پیاده‌سازی می‌کند. برخی برنامه‌ها ممکن است در زمان کامپایل ندانند چه آرگومان‌هایی باید به یک تابع منتقل شوند. برای مثال، یک مفسر ممکن است در زمان اجرا درباره تعداد و انواع آرگومان‌های استفاده شده برای فراخوانی یک تابع خاص مطلع شود. Libffi می‌تواند در چنین برنامه‌هایی برای ایجاد یک پل از برنامه مفسر به کد کامپایل شده استفاده شود.

## Libpipeline
بسته Libpipeline یک کتابخانه برای دستکاری خطوط لوله زیرپروسه‌ها به روشی انعطاف‌پذیر و راحت ارائه می‌دهد. توسط بسته Man-DB مورد نیاز است.

## Libtool
این بسته شامل اسکریپت پشتیبانی کتابخانه عمومی GNU است. پیچیدگی استفاده از کتابخانه‌های مشترک را در یک رابط سازگار و قابل حمل می‌پیچد. توسط مجموعه‌های آزمون در سایر بسته‌های LFS مورد نیاز است.

## Libxcrypt
این بسته کتابخانه libcrypt مورد نیاز توسط بسته‌های مختلف (به ویژه Shadow) برای هش کردن رمزهای عبور را فراهم می‌کند. پیاده‌سازی منسوخ libcrypt در Glibc را جایگزین می‌کند.

## Linux Kernel
این بسته سیستم عامل است. این همان Linux در محیط GNU/Linux است.

## M4
این بسته یک پردازشگر ماکروی متن عمومی فراهم می‌کند که به عنوان یک ابزار ساخت برای سایر برنامه‌ها مفید است.

## Make
این بسته شامل برنامه‌ای برای هدایت ساخت بسته‌ها است. تقریباً توسط هر بسته در LFS مورد نیاز است.

## Man-DB
این بسته شامل برنامه‌هایی برای یافتن و مشاهده صفحات راهنما است. به جای بسته man انتخاب شده است زیرا قابلیت‌های بین‌المللی‌سازی بهتری دارد. برنامه man را فراهم می‌کند.

## Man-pages
این بسته محتوای واقعی صفحات راهنمای پایه لینوکس را ارائه می‌دهد.

## Meson
این بسته یک ابزار نرم‌افزاری برای خودکارسازی ساخت نرم‌افزار فراهم می‌کند. هدف اصلی Meson به حداقل رساندن زمانی است که توسعه‌دهندگان نرم‌افزار باید برای پیکربندی یک سیستم ساخت صرف کنند. برای ساخت Systemd و همچنین بسیاری از بسته‌های BLFS مورد نیاز است.

## MPC
این بسته توابع حسابی برای اعداد مختلط فراهم می‌کند. توسط GCC مورد نیاز است.

## MPFR
این بسته توابعی برای محاسبات دقیق چندگانه ارائه می‌دهد. توسط GCC مورد نیاز است.

## Ninja
این بسته یک سیستم ساخت کوچک با تمرکز بر سرعت ارائه می‌دهد. طراحی شده است تا فایل‌های ورودی آن توسط یک سیستم ساخت سطح بالاتر تولید شود و ساخت‌ها را تا حد ممکن سریع اجرا کند. این بسته توسط Meson مورد نیاز است.

## Ncurses
این بسته کتابخانه‌هایی برای مدیریت مستقل از ترمینال صفحه‌های نویسه ارائه می‌دهد. اغلب برای ارائه کنترل مکان‌نما برای یک سیستم منو استفاده می‌شود. توسط تعدادی از بسته‌ها در LFS مورد نیاز است.

## Openssl
این بسته ابزارها و کتابخانه‌های مدیریتی مربوط به رمزنگاری را ارائه می‌دهد. این‌ها توابع رمزنگاری را برای سایر بسته‌ها، از جمله هسته لینوکس، فراهم می‌کنند.

## Patch
این بسته شامل برنامه‌ای برای اصلاح یا ایجاد فایل‌ها با اعمال یک فایل patch است که معمولاً توسط برنامه diff ایجاد می‌شود. توسط روند ساخت چندین بسته LFS مورد نیاز است.

## Perl
این بسته یک مفسر برای زبان اجرایی PERL است. برای نصب و مجموعه‌های آزمون چندین بسته LFS مورد نیاز است.

## Pkgconf
این بسته شامل برنامه‌ای است که به پیکربندی پرچم‌های کامپایلر و لینکر برای کتابخانه‌های توسعه کمک می‌کند. این برنامه می‌تواند به عنوان جایگزین pkg-config استفاده شود، که توسط سیستم ساخت بسیاری از بسته‌ها مورد نیاز است. فعال‌تر نگهداری می‌شود و کمی سریع‌تر از بسته اصلی Pkg-config است.

## Procps-NG
این بسته شامل برنامه‌هایی برای نظارت بر فرآیندها است. این برنامه‌ها برای مدیریت سیستم مفید هستند و همچنین توسط اسکریپت‌های راه‌اندازی LFS استفاده می‌شوند.

## Psmisc
این بسته برنامه‌هایی برای نمایش اطلاعات درباره فرآیندهای در حال اجرا تولید می‌کند. این برنامه‌ها برای مدیریت سیستم مفید هستند.

## Python 3
این بسته یک زبان تفسیری ارائه می‌دهد که فلسفه طراحی آن بر خوانایی کد تأکید دارد.

## Readline
این بسته مجموعه‌ای از کتابخانه‌هاست که ویرایش خط فرمان و قابلیت‌های تاریخچه را ارائه می‌دهد. توسط Bash استفاده می‌شود.

## Sed
این بسته اجازه ویرایش متن بدون باز کردن آن در یک ویرایشگر متن را می‌دهد. همچنین توسط اسکریپت‌های پیکربندی بسیاری از بسته‌های LFS مورد نیاز است.

## Shadow
این بسته شامل برنامه‌هایی برای مدیریت ایمن رمزهای عبور است.

## Sysklogd
این بسته برنامه‌هایی برای ثبت پیام‌های سیستمی، مانند آنهایی که توسط هسته یا فرآیندهای daemon هنگام وقوع رویدادهای غیرمعمول منتشر می‌شوند، ارائه می‌دهد.

## SysVinit
این بسته برنامه init را فراهم می‌کند، که والد تمام فرآیندهای دیگر در یک سیستم لینوکس در حال اجرا است.

## Udev
این بسته یک مدیر دستگاه است. به طور پویا مالکیت، مجوزها، نام‌ها و لینک‌های نمادین گره‌های دستگاه در دایرکتوری /dev را هنگام اضافه یا حذف دستگاه‌ها از سیستم کنترل می‌کند.

## Tar
این بسته قابلیت‌های آرشیو و استخراج تقریباً تمام بسته‌های استفاده شده در LFS را فراهم می‌کند.

## Tcl
این بسته شامل زبان فرمان ابزار است که در بسیاری از مجموعه‌های آزمون استفاده می‌شود.

## Texinfo
این بسته برنامه‌هایی برای خواندن، نوشتن و تبدیل صفحات اطلاعات ارائه می‌دهد. در روندهای نصب بسیاری از بسته‌های LFS استفاده می‌شود.

## Util-linux
این بسته شامل برنامه‌های ابزاری متنوعی است. در میان آنها ابزارهایی برای مدیریت سیستم‌های فایل، کنسول‌ها، پارتیشن‌ها و پیام‌ها وجود دارد.

## Vim
این بسته یک ویرایشگر ارائه می‌دهد. به دلیل سازگاری آن با ویرایشگر کلاسیک vi و تعداد زیادی از قابلیت‌های قدرتمند آن انتخاب شده است. یک ویرایشگر انتخاب بسیار شخصی برای بسیاری از کاربران است. هر ویرایشگر دیگری می‌تواند جایگزین شود، اگر مایل باشید.

## Wheel
این بسته یک ماژول Python ارائه می‌دهد که پیاده‌سازی مرجع استاندارد بسته‌بندی wheel پایتون است.

## XML::Parser
این بسته یک ماژول Perl است که با Expat ارتباط برقرار می‌کند.

## XZ Utils
این بسته شامل برنامه‌هایی برای فشرده‌سازی و از حالت فشرده خارج کردن فایل‌ها است. بالاترین فشرده‌سازی عموماً در دسترس را ارائه می‌دهد و برای از حالت فشرده خارج کردن بسته‌ها در فرمت XZ یا LZMA مفید است.

## Zlib
این بسته شامل روتین‌های فشرده‌سازی و از حالت فشرده خارج کردن است که توسط برخی برنامه‌ها استفاده می‌شود.

## Zstd
این بسته روتین‌های فشرده‌سازی و از حالت فشرده خارج کردن را که توسط برخی برنامه‌ها استفاده می‌شود، ارائه می‌دهد. نسبت‌های فشرده‌سازی بالا و طیف بسیار گسترده‌ای از تبادل‌های فشرده‌سازی/سرعت را فراهم می‌کند.

# تایپوگرافی

برای سهولت پیگیری، چند قرارداد تایپوگرافی در سراسر این کتاب استفاده شده است. این بخش شامل برخی نمونه‌های قالب تایپوگرافی است که در سراسر Linux From Scratch یافت می‌شود.

```bash
./configure --prefix=/usr
```
این شکل از متن طراحی شده است تا دقیقاً همانطور که دیده می‌شود تایپ شود، مگر اینکه در متن اطراف به گونه دیگری ذکر شده باشد. همچنین در بخش‌های توضیحی برای شناسایی کدام یک از دستورات مورد ارجاع است، استفاده می‌شود.

در برخی موارد، یک خط منطقی به دو یا چند خط فیزیکی با یک بک‌اسلش در انتهای خط گسترش می‌یابد.
```bash
CC="gcc -B/usr/bin/" ../binutils-2.18/configure 
--prefix=/tools --disable-nls --disable-werror
```
توجه داشته باشید که بک‌اسلش باید بلافاصله با یک بازگشت (enter) دنبال شود. سایر کاراکترهای فاصله مانند فاصله یا کاراکترهای تب نتایج نادرستی ایجاد خواهند کرد.
```bash
install-info: unknown option '--dir-file=/mnt/lfs/usr/info/dir'
```
این شکل از متن (متن با عرض ثابت) خروجی صفحه نمایش را نشان می‌دهد، معمولاً به عنوان نتیجه دستورات صادر شده. این قالب همچنین برای نشان دادن نام فایل‌ها استفاده می‌شود، مانند `/etc/ld.so.conf`.

**نکته**

لطفاً مرورگر خود را طوری تنظیم کنید که متن با عرض ثابت را با یک فونت مونواسپیس خوب با اندازه فونت "9pt" نمایش دهد، که با آن می‌توانید حروف Il1 یا O0 را به وضوح تشخیص دهید.

## تأکید

این شکل از متن برای چندین هدف در کتاب استفاده می‌شود. هدف اصلی آن تأکید بر نکات یا موارد مهم است.

https://www.linuxfromscratch.org/

این قالب برای پیوندهای اینترنتی هم در داخل جامعه LFS و هم برای صفحات خارجی استفاده می‌شود. این شامل راهنماها، مکان‌های دانلود و وب‌سایت‌ها است.
```bash
cat > $LFS/etc/group << "EOF"
root:x:0:
bin:x:1:
......
EOF
```
این قالب هنگام ایجاد فایل‌های پیکربندی استفاده می‌شود. اولین دستور به سیستم می‌گوید که فایل `$LFS/etc/group` را از هر چیزی که در خطوط بعدی تایپ می‌شود تا زمانی که توالی End Of File (EOF) مشاهده شود، ایجاد کند. بنابراین، این بخش کامل معمولاً همانطور که دیده می‌شود تایپ می‌شود.

`<REPLACED TEXT>`

این قالب برای متنی استفاده می‌شود که نباید همانطور که دیده می‌شود تایپ شود یا برای عملیات کپی و چسباندن استفاده می‌شود.

`[OPTIONAL TEXT]`

این قالب برای متن اختیاری استفاده می‌شود.

`passwd(5)`

این قالب برای ارجاع به یک صفحه راهنمای (man) خاص استفاده می‌شود. عدد داخل پرانتز بخش خاصی را در داخل راهنماها نشان می‌دهد. برای مثال، passwd دارای دو صفحه راهنما است. طبق دستورالعمل‌های نصب LFS، این دو صفحه راهنما در `/usr/share/man/man1/passwd.1` و `/usr/share/man/man5/passwd.5` قرار خواهند گرفت. هنگامی که کتاب از `passwd(5)` استفاده می‌کند، به طور خاص به `/usr/share/man/man5/passwd.5` اشاره دارد. دستور `man passwd` اولین صفحه راهنمایی را که با "passwd" مطابقت دارد چاپ می‌کند، که `/usr/share/man/man1/passwd.1` خواهد بود. برای این مثال، شما باید `man 5 passwd` را اجرا کنید تا صفحه مشخص شده را بخوانید. توجه داشته باشید که اکثر صفحات راهنما نام‌های صفحه تکراری در بخش‌های مختلف ندارند. بنابراین، `man <نام برنامه>` معمولاً کافی است. در کتاب LFS این ارجاعات به صفحات راهنما همچنین پیوندهای اینترنتی هستند، بنابراین کلیک بر روی چنین ارجاعی صفحه راهنما را که از صفحات راهنمای دستی Arch Linux ارائه شده است، باز می‌کند.

# ساختار

این کتاب به بخش‌های زیر تقسیم شده است.

## بخش I - مقدمه

بخش I چند نکته مهم درباره نحوه پیشروی با نصب LFS را توضیح می‌دهد. این بخش همچنین اطلاعات فراداده‌ای درباره کتاب ارائه می‌دهد.

## بخش II - آماده‌سازی برای ساخت

بخش II توضیح می‌دهد که چگونه برای فرآیند ساخت آماده شوید—ایجاد یک پارتیشن، دانلود بسته‌ها و کامپایل ابزارهای موقت.

## بخش III - ساخت زنجیره ابزار متقاطع LFS و ابزارهای موقت

بخش III دستورالعمل‌هایی برای ساخت ابزارهای مورد نیاز برای ساخت سیستم نهایی LFS ارائه می‌دهد.

## بخش IV - ساخت سیستم LFS

بخش IV خواننده را در ساخت سیستم LFS راهنمایی می‌کند—کامپایل و نصب تمام بسته‌ها یکی پس از دیگری، تنظیم اسکریپت‌های راه‌اندازی و نصب هسته. سیستم لینوکس حاصل پایه‌ای است که بر روی آن نرم‌افزارهای دیگر می‌توانند ساخته شوند تا سیستم را به دلخواه گسترش دهند. در پایان این کتاب، یک مرجع آسان برای استفاده وجود دارد که تمام برنامه‌ها، کتابخانه‌ها و فایل‌های مهمی که نصب شده‌اند را فهرست می‌کند.

## بخش V - ضمائم

بخش V اطلاعاتی درباره خود کتاب از جمله مخفف‌ها و اصطلاحات، تشکرات، وابستگی‌های بسته، فهرستی از اسکریپت‌های راه‌اندازی LFS، مجوزهای توزیع کتاب و یک فهرست جامع از بسته‌ها، برنامه‌ها، کتابخانه‌ها و اسکریپت‌ها ارائه می‌دهد.
